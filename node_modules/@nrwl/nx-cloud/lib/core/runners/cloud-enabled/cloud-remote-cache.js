const a1_0xa409=['VERBOSE_LOGGING','.\x20Read\x20only\x20token\x20is\x20used.','cache-miss','cacheError','value','retrieve','hashUrls','waitForStoreRequestsToComplete','forEach','get','done','reduce','then','../../../utilities/environment','runContext','put','api','indexOf','status','requests','messages','storage','push','storeRequests','startRun','all','fileStorage','throw','apply','note','CloudRemoteCache','axiosException','filter','hash','Nx\x20Cloud:\x20Cache\x20miss\x20','defineProperty','output','extractErrorMessage','store','response','map','@nrwl/workspace/src/utilities/output','statuses','next','NX_CLOUD_DISTRIBUTED_EXECUTION_ID','__awaiter'];(function(_0x4ade67,_0xa409c5){const _0x4babcf=function(_0x10578d){while(--_0x10578d){_0x4ade67['push'](_0x4ade67['shift']());}};_0x4babcf(++_0xa409c5);}(a1_0xa409,0x19e));const a1_0x4bab=function(_0x4ade67,_0xa409c5){_0x4ade67=_0x4ade67-0x0;let _0x4babcf=a1_0xa409[_0x4ade67];return _0x4babcf;};'use strict';var __awaiter=this&&this[a1_0x4bab('0x2d')]||function(_0x22e26d,_0x42b158,_0x1a4ceb,_0x4bc408){function _0xc37c54(_0x2e5f45){return _0x2e5f45 instanceof _0x1a4ceb?_0x2e5f45:new _0x1a4ceb(function(_0x396a48){_0x396a48(_0x2e5f45);});}return new(_0x1a4ceb||(_0x1a4ceb=Promise))(function(_0x30c60c,_0x55e427){function _0x27a905(_0x25372a){try{_0xec4d56(_0x4bc408[a1_0x4bab('0x2b')](_0x25372a));}catch(_0x1d1ded){_0x55e427(_0x1d1ded);}}function _0x1efff3(_0x161128){try{_0xec4d56(_0x4bc408[a1_0x4bab('0x1b')](_0x161128));}catch(_0x5dfb00){_0x55e427(_0x5dfb00);}}function _0xec4d56(_0x4cd342){_0x4cd342[a1_0x4bab('0xa')]?_0x30c60c(_0x4cd342[a1_0x4bab('0x4')]):_0xc37c54(_0x4cd342[a1_0x4bab('0x4')])['then'](_0x27a905,_0x1efff3);}_0xec4d56((_0x4bc408=_0x4bc408[a1_0x4bab('0x1c')](_0x22e26d,_0x42b158||[]))[a1_0x4bab('0x2b')]());});};Object[a1_0x4bab('0x23')](exports,'__esModule',{'value':!![]});exports['CloudRemoteCache']=void 0x0;const output_1=require(a1_0x4bab('0x29'));const environment_1=require(a1_0x4bab('0xd'));class CloudRemoteCache{constructor(_0x44c68f,_0x1d62ce,_0x46ca61,_0x5840d7){this[a1_0x4bab('0x14')]=_0x44c68f;this['api']=_0x1d62ce;this[a1_0x4bab('0xe')]=_0x46ca61;this[a1_0x4bab('0x1a')]=_0x5840d7;this[a1_0x4bab('0x17')]=[];}[a1_0x4bab('0x5')](_0xe66dbd,_0x169d75){var _0x38995b;return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a1_0x4bab('0x14')][a1_0x4bab('0x3')])return![];const _0x3baa7f=yield this[a1_0x4bab('0x6')](_0xe66dbd);if(!_0x3baa7f||!_0x3baa7f[a1_0x4bab('0x9')]){if(environment_1['VERBOSE_LOGGING']){output_1[a1_0x4bab('0x24')][a1_0x4bab('0x1d')]({'title':a1_0x4bab('0x22')+_0xe66dbd+'.'});}this['runContext'][a1_0x4bab('0x2a')][_0xe66dbd]='cache-miss';return![];}try{yield this[a1_0x4bab('0x1a')]['retrieve'](_0xe66dbd,_0x3baa7f['get'],_0x169d75);this[a1_0x4bab('0xe')][a1_0x4bab('0x2a')][_0xe66dbd]='remote-cache-hit';return!![];}catch(_0x493e6a){const _0x463c8f=(_0x38995b=_0x493e6a[a1_0x4bab('0x1f')])!==null&&_0x38995b!==void 0x0?_0x38995b:_0x493e6a;if(_0x463c8f[a1_0x4bab('0x27')]&&_0x463c8f[a1_0x4bab('0x27')][a1_0x4bab('0x12')]===0x194){if(environment_1['VERBOSE_LOGGING']){output_1[a1_0x4bab('0x24')][a1_0x4bab('0x1d')]({'title':a1_0x4bab('0x22')+_0xe66dbd+'.\x20Status\x20404.'});}}else{this[a1_0x4bab('0x14')][a1_0x4bab('0x3')]=this[a1_0x4bab('0x14')]['extractErrorMessage'](_0x463c8f,a1_0x4bab('0x15'));}this[a1_0x4bab('0xe')][a1_0x4bab('0x2a')][_0xe66dbd]=a1_0x4bab('0x2');return![];}});}[a1_0x4bab('0x26')](_0x1af398,_0xcaca0c){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a1_0x4bab('0x14')][a1_0x4bab('0x3')])return![];const _0x5676ba=Promise['resolve']()[a1_0x4bab('0xc')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x4505b5;const _0x4f4a52=yield this['hashUrls'](_0x1af398);if(!_0x4f4a52)return![];if(!_0x4f4a52[a1_0x4bab('0xf')]){if(environment_1[a1_0x4bab('0x0')]){output_1[a1_0x4bab('0x24')]['note']({'title':'Nx\x20Cloud:\x20Skipping\x20storing\x20'+_0x1af398+a1_0x4bab('0x1')});}return!![];}try{yield this[a1_0x4bab('0x1a')][a1_0x4bab('0x26')](_0x1af398,_0x4f4a52[a1_0x4bab('0xf')],_0xcaca0c);return!![];}catch(_0x34c61f){const _0x7c312=(_0x4505b5=_0x34c61f[a1_0x4bab('0x1f')])!==null&&_0x4505b5!==void 0x0?_0x4505b5:_0x34c61f;this['messages'][a1_0x4bab('0x3')]=this[a1_0x4bab('0x14')][a1_0x4bab('0x25')](_0x7c312,a1_0x4bab('0x15'));return![];}}));this[a1_0x4bab('0x17')]['push'](_0x5676ba);return _0x5676ba;});}[a1_0x4bab('0x6')](_0x4e7fc3){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a1_0x4bab('0xe')]['requests'][_0x4e7fc3]){return(yield this[a1_0x4bab('0xe')][a1_0x4bab('0x13')][_0x4e7fc3])[_0x4e7fc3];}else{const _0x4ba6a5=this[a1_0x4bab('0xe')]['scheduledTasks'][a1_0x4bab('0x20')](_0xa14340=>!this['runContext'][a1_0x4bab('0x13')][_0xa14340[a1_0x4bab('0x21')]])[a1_0x4bab('0x28')](_0x21d28f=>_0x21d28f[a1_0x4bab('0x21')]);if(_0x4ba6a5[a1_0x4bab('0x11')](_0x4e7fc3)===-0x1){_0x4ba6a5[a1_0x4bab('0x16')](_0x4e7fc3);}const _0x2eb17e=this[a1_0x4bab('0x10')][a1_0x4bab('0x18')](environment_1[a1_0x4bab('0x2c')],_0x4ba6a5);_0x4ba6a5[a1_0x4bab('0x8')](_0x500d83=>{this[a1_0x4bab('0xe')][a1_0x4bab('0x13')][_0x500d83]=_0x2eb17e;});return(yield _0x2eb17e)[_0x4e7fc3];}});}[a1_0x4bab('0x7')](){return Promise[a1_0x4bab('0x19')](this[a1_0x4bab('0x17')])[a1_0x4bab('0xc')](_0x12470d=>_0x12470d[a1_0x4bab('0xb')]((_0x24e80d,_0x5dec23)=>_0x24e80d&&_0x5dec23,!![]));}}exports[a1_0x4bab('0x1e')]=CloudRemoteCache;